<!DOCTYPE HTML>
<html>
	<head>
		<title>Youbora QoS and Analytics</title>
		<script type="text/javascript" src="../../../tests/qunit/qunit-bootstrap.js"></script>
		<script type="text/javascript" src="../../../mwEmbedLoader.php"></script>
		<script type="text/javascript" src="../../../docs/js/doc-bootstrap.js"></script>
		
		<!-- qunit-kaltura must come after qunit-bootstrap.js and after mwEmbedLoader.php and after any jsCallbackReady stuff-->
		<script type="text/javascript" src="../../KalturaSupport/tests/resources/qunit-kaltura-bootstrap.js"></script>
		
		<script type="text/javascript">
			// Support tracking analytics events:
			window['trackYouboraAnalyticsEvent'] = function(eventId, data){
				// append event data.
				$('#analyticsLog').prepend( eventId + ": " +  data + "\n" );
			}
		</script>
	</head>

	<body>
		<h2> Youbora Media Analytics and QoS </h2>
		<div id="player_container" style="float:left;" >
		<div id="kaltura_player" style="width:470px;height:300px"></div>
		<script>
		//	mw.setConfig( 'EmbedPlayer.ForceKPlayer' , true );
			kWidget.featureConfig({
				'targetId' : 'kaltura_player',
				'wid': '_243342',
				'uiconf_id' : '12905712',
				'entry_id' : '1_sf5ovm7u',
				'flashvars' : {
					'youbora' : {
						'trackEventMonitor': 'trackYouboraAnalyticsEvent',
					}
				},
				'readyCallback': function(){
					$('#kaltura_player').css('float', 'left').after('<div style="clear:both"></div><div id="analyticsContainer" style="float:left;" >'+
						'<i>Analytics events:</i><br />' +
							'<textarea id="analyticsLog" style="width:800px;height:280px;" ></textarea>' +
						'</div>'
					)
				}
			});
		</script>
		</div>
	</body>

</html>
