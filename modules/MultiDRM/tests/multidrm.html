
<!DOCTYPE HTML>
<html>
<head>
    <title> Multi DRM   </title>

    <script type="text/javascript" src="../../../tests/qunit/qunit-bootstrap.js"></script>
    <script type="text/javascript" src="../../../mwEmbedLoader.php"></script>
    <script type="text/javascript" src="../../../docs/js/doc-bootstrap.js"></script>
</head>
<body>
<!--script type="text/javascript" src="http://s0.2mdn.net/instream/html5/gpt_proxy.js"></script-->
<h3>Base test</h3>
<div id="videoTarget" style="width:600px;height:430px"></div>
<script>
    var jsonConfig  = {
        "plugins":{
            "topBarContainer": {},
            "titleLabel": {},
            "controlBarContainer": {
                "hover": true
            },
            "largePlayBtn": {},
            "scrubber": {
                'thumbSlicesUrl': '{mediaProxy.entryMetadata.thumbSlicesUrl}'
            },
            "vast":{
                "trackCuePoints":"true",
                "timeout": 4
            },
            'skipBtn': {
                'label': 'Skip Ad'
            },
            'noticeMessage': {
                'text': 'Advertisment {sequenceProxy.timeRemaining|timeFormat}'
            },
            "playPauseBtn": {},
            "volumeControl": {},
            "fullScreenBtn": {},
            "durationLabel": {},
            "currentTimeLabel": {},
            "sourceSelector": {},
            "logo": { "visible": false},
            "infoScreen": {},
            "share": {},
            "multidrm":{},
            'statistics': {'plugin': false}
        },
        "uiVars":[{
            "key":"autoPlay",
            "value":false,
            "overrideFlashvar":false
        }],
        "layout":{
            "skin": "kdark",
            "cssFiles":[]
        }
    };
    // per entry settings
    var mediaProxyKalturaToolKitVideo = {
        'entry':{
            'id': "key_1",
            'name': "My ToolKit Video",
            "description": "Kaltura Player toolkit Description.",
            "plays":1234,
            "views":47332,
            "duration":114,
            "createdAt":1379965720,
            "thumbnailUrl": 'http://cdnbakmi.kaltura.com/p/243342/sp/24334200/thumbnail/entry_id/1_sf5ovm7u/version/100003/width/640'
        },
        'entryCuePoints': [{
            "protocolType": 1,
            "adType": 1,
            "cuePointType": "adCuePoint.Ad",
            "startTime": 4936,
            "sourceUrl": "http://projects.kaltura.com/mdale/hotelVastAd.xml"
        }],
        "contextData":{
            'isCountryRestricted': false
        },
        'entryMetadata': {
            'thumbSlicesUrl': 'http://cdnbakmi.kaltura.com/p/243342/sp/24334200/thumbnail/entry_id/1_sf5ovm7u/version/100003/width/100/vid_slices/100',
            'AgeGroup': "16"
        },
        'sources':[
            {
                "src":"http://demo.castlabs.com/media/rio_enc/Manifest.mpd",
                "width":"624",
                "height":"352",
                "bandwidth":"740352",
                "type":"video/dash;"
            }
        ]
    }

    var mediaProxySinte = {
        'entry':{
            'id': "key_2",
            'name': "Sintel Title",
            "description": "Sintel Description here",
            "plays":1234,
            "views":47332,
            "duration":114,
            "createdAt":1379965720,
            "updatedAt":1384465538,
            "thumbnailUrl": 'http://cdnbakmi.kaltura.com/p/243342/sp/24334200/thumbnail/entry_id/0_c0r624gh/version/100004/width/640'
        },
        'entryCuePoints': [{
            // see enum mappings here:
            "protocolType": 1,
            "adType": 1,
            "cuePointType": "adCuePoint.Ad",
            "duration": 5005,
            "startTime": 4936,
            "endTime": 9941,
            "sourceUrl": "http://projects.kaltura.com/mdale/hotelVastAd.xml"
        }],
        "contextData":{
            'isCountryRestricted': false
        },
        'entryMetadata': {
            'thumbSlicesUrl': 'http://cdnbakmi.kaltura.com/p/243342/sp/24334200/thumbnail/entry_id/0_c0r624gh/version/100004/width/100/vid_slices/100',
            'AgeGroup': "16"
        },
        'sources':[
            {
                "src":"http://cdnbakmi.kaltura.com/p/243342/sp/24334200/playManifest/entryId/0_c0r624gh/flavorId/0_1c89hhxb/format/url/protocol/http/a.webm",
                "width":"816",
                "height":"352",
                "bandwidth":"637652",
                "type":"video/webm; codecs=\"vp8, vorbis",
            },{
                "src":"http://cdnbakmi.kaltura.com/p/243342/sp/24334200/playManifest/entryId/0_c0r624gh/flavorId/0_w3aolq8p/format/url/protocol/http/a.mp4",
                "width":"640",
                "height":"272",
                "bandwidth":"9688824",
                "type":"video/mp4; codecs=\"avc1.42E01E, mp4a.40.2",
            },{
                "src":"http://cdnbakmi.kaltura.com/p/243342/sp/24334200/playManifest/entryId/0_c0r624gh/flavorId/0_w48dtkyq/format/url/protocol/http/a.mp4",
                "width":"1280",
                "height":"544",
                "bandwidth":"15352248",
                "type":"video/mp4; codecs=\"avc1.42E01E, mp4a.40.2",
            },
            {
                "src":"http://cdnbakmi.kaltura.com/p/243342/sp/24334200/playManifest/entryId/0_c0r624gh/flavorIds/1_tj3uq03m,0_w48dtkyq/format/applehttp/protocol/http/a.m3u8",
                "type":"application/vnd.apple.mpegurl",
            }
        ]
    }

    kWidget.embed('videoTarget', {
        'wid' : '_partnerkey',
        'flashvars':{
            'jsonConfig':jsonConfig,
            // per entity settings:
            'mediaProxy': mediaProxyKalturaToolKitVideo
        }

    });
</script>

</body>
</html>
